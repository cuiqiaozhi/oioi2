"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Router = void 0;
const KoaRouter = require("@koa/router");
const ws_1 = require("ws");
class Router extends KoaRouter {
    constructor() {
        super(...arguments);
        this.wsStack = [];
        this.whiteList = []; //用于historyApi排除
    }
    register(...args) {
        const path = args[0];
        this.whiteList.push(path);
        return super.register(...args);
    }
    ws(path, server) {
        const wsServer = new ws_1.Server({ server, path });
        this.wsStack.push(wsServer);
        return wsServer;
    }
}
exports.Router = Router;
